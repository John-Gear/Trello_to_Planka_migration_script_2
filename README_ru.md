# Trello to Planka Migration Script v2

## Описание
Этот скрипт предназначен для переноса данных из Trello в Planka v2.x. Он автоматически переносит рабочие пространства, доски, списки, карточки, комментарии, вложения, метки и обложки карточек из Trello в Planka v2.x, сохраняя структуру и важную информацию.
- **Важно: Если вы используете **Planka v1.x**, смотрите другой репозиторий: https://github.com/John-Gear/Trello_to_Planka_migration_script/tree/main**
- **Если вы используете **Planka v2.x**, то этот скрипт для вас**

---

## Возможности

- Перенос рабочих пространств Trello в виде проектов Planka
- Перенос досок и списков
- Перенос карточек с сохранением порядка и даты выполнения
- Перенос чек-листов и задач
- Перенос меток и обложек карточек
- Перенос вложений
- Перенос комментариев (с сохранением имени автора, юзернейма и даты)
- Логирование всех действий (`log.txt`)
- Простой интерфейс через окно GUI

---

## Интерфейс программы
Ниже пример интерфейса приложения, где можно ввести данные для миграции:

![Пример интерфейса](https://github.com/John-Gear/Trello_to_Planka_migration_script_2/blob/main/window.png)

---

# Как пользоваться (2 варианта):

## 1. Самый простой способ - скачать готовую программу

1. Перейдите в Release и скачайте .exe-файл (для Windows)
2. Запустите программу двойным щелчком
3. Введите:
- Planka URL (например: https://example.com, без приставки /api на конце)
- Ваше имя пользователя и пароль от Planka
- Trello API Key и Token (как получить — ниже)
4. Нажмите Start Migration
5. После завершения нажмите Save Log чтобы сохранить отчёт

---

## Получение API-ключа и токена Trello
1. Перейдите в [Trello Power-Ups](https://trello.com/power-ups/admin).
2. Нажмите "Улучшения" → "Создать новое".
3. Введите данные организации.
4. Нажмите "Сгенерировать новый API-ключ" и сохраните его.
5. Нажмите "Сгенерировать токен вручную" и разрешите доступ. Сохраните его.

---

## 2. Собрать GUI самостоятельно (для продвинутых пользователей, пользователей Mac/Linux, если вы не привыкли скачивать сторонние .exe)

1. Скачайте проект:
```bash
git clone https://github.com/John-Gear/Trello_to_Planka_migration_script_2.0.git
```
2. Перейдите в папку и создайте виртуальное окружение:
```bash
python -m venv venv
```
3. Активируйте окружение:
```bash
- Windows: venv\Scripts\activate
- Mac/Linux: source venv/bin/activate
```
4. Установите зависимости:
```bash
pip install -r requirements.txt
```
5. Соберите .exe:
```bash
pyinstaller --onefile --noconsole migrator_gui.py
```
6. в папке /dist появится созданный вами .exe файл

---

## Возможные проблемы и ошибки
- **Ошибка загрузки в Planka `413 Client Error: Request Entity Too Large`**  
  Решение-пример: если Ваша Planka установлена на `nginx` - увеличьте `client_max_body_size` в конфигурации `nginx`.
- **Фоны досок из Trello не переносятся в Planka**  
  В Planka фон устанавливается на проект, а не на доску.
- **Изображения в комментариях могут не отображаться**  
  Изображения переносятся как вложения, но в Planka не поддерживается вставка изображений в текст комментария.
- **Вложения-ссылки не переносятся**  
  В Trello можно прикреплять ссылки в качестве вложений, но в Planka это не поддерживается.
- **Копированные карточки могут потерять комментарии**  
  Это баг Trello: при копировании карточки, комментарии не дублируются.
- **Файл не найден при загрузке вложения**  
  Решение-пример: убедитесь, что вы используете GUI в Windows и у вас есть доступ к TEMP-папке.

---

## Не реализовано
- **Перенос участников:**
  реализация этой функции была осознанно исключена.
  Trello - централизованный сервис с глобальными аккаунтами, пользователи сами создают логины и пароли.
  В Planka (self-hosted) каждый пользователь создаётся вручную и не имеет глобальной учётки.
  Автоматический перенос участников невозможен без доступа к локальной базе данных и генерации для каждого пользователя почты/логина и пароля на стороне сервера.
- **Перенос архивных элементов (карточки, доски):**  
  не реализовано, т.к. не представляется полезным - основной фокус скрипта на актуальных досках и задачах.

---

## Лицензия
  Проект распространяется под лицензией **MIT** (если вы планируете использовать скрипт в коммерческих целях и хотите адаптировать под себя, соблюдайте условия лицензии и добавляйте ссылку на автора.)

---

## Связь с автором и доработка под ваши нужды
  Если вам нужно доработать миграцию под свои нужды — напишите автору.

---

## Если Вы сочли мой проект полезным, Вы можете поддержать меня финансово — даже небольшое пожертвование имеет значение
- **Crypto donation: USDT (TRC20):** `TCECqH8ZxXGCQuWZeto1nV9nawbeeV4fG8`
- **Crypto donation: Bitcoin (BTC):** `bc1q3lvprzayxd3qulk0epk5dh58zx36mfev76wj30`
- **Crypto donation: Ethereum (ETH):** `0x80DbC00Fd91bAb3D4FE6E6441Dae0719e6bF5c9e`
- **International card (Visa/Mastercard):**  
[https://www.donationalerts.com/r/johngear](https://www.donationalerts.com/r/johngear)

---

### Если у вас есть вопросы или проблемы - создавайте issue в репозитории!

